<style>

    #dark-mode-toggle {
        display: none !important;
    }
    
    .menu-bottom-section {
        display: none !important;
    }

    :root, 
    :root[data-scheme="dark"], 
    body[data-scheme="dark"] {
        --card-background: rgba(28, 28, 28, 0.6) !important;
        
        --body-background: transparent !important;
    }
    body[data-scheme="dark"] .article-content blockquote,
    :root[data-scheme="dark"] .article-content blockquote,
    .article-content blockquote {
        /* 核心：把背景色强制改成半透明黑 */
        background-color: rgba(0, 0, 0, 0.2) !important;
        background: rgba(0, 0, 0, 0.2) !important;
        
        /* 边框颜色 */
        border-left-color: rgba(255, 255, 255, 0.6) !important;
        
        /* 文字颜色 */
        color: rgba(255, 255, 255, 0.9) !important;
    }

    /* 2. 防止引用块里的文字也有背景色 (有些主题会给 p 标签加背景) */
    .article-content blockquote p {
        background-color: transparent !important;
        background: transparent !important;
    }


    html, body, 
    html[data-scheme="dark"], 
    body[data-scheme="dark"] {
        filter: none !important;              /* 关掉所有滤镜 */
        -webkit-filter: none !important;
        background: transparent !important;   /* 确保背景透明 */
        mix-blend-mode: normal !important;    /* 关掉混合模式 */
    }
    body::before {
        content: "";
        position: fixed; /* 【关键】强制固定在窗口，不随页面滚动 */
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1; /* 放在所有内容的背面 */

        /* 这里放原本的背景设置 */
        background-image: url('/images/LCLR1_PhotoGrid.png'); /* 确保路径对 */
        background-size: cover;
        background-position: center center;
        background-repeat: no-repeat;
        
        /* 滤镜也搬到这里 */
        filter: none !important;
        filter: grayscale(80%); 
        
        /* 稍微优化性能 */
        will-change: transform; 
        pointer-events: none;
    }

    /* 2. body 本身变成透明容器，只负责装内容 */
    body {
        background: transparent !important; /* 去掉 body 自己的背景 */
        background-image: none !important;  /* 双重保险 */
        min-height: 100vh;
    }
    .sidebar {
        width: 20% !important; /* 跟随主题布局 */
        max-width: 100% !important;
        flex-basis: auto !important;
    }

    @media screen and (max-width: 768px) {
        .sidebar { 
            width: 95% !important; 
            max-width: 95% !important; 
            margin: 10px auto;
            /* 【修复】手机端增加顶部内边距，让标题离顶部远一点 */
            padding-top: 40px !important; 
        }
    }

    .ti-cursor {
        color: #3b82f6 !important;
        font-weight: bold;
        margin-left: 2px;
    }

    .sidebar .subtitle, .site-description, .profile-description {
        display: flex !important;
        align-items: flex-start;    /* 垂直靠上 */
        justify-content: flex-start; /* 水平靠左 */
        
        width: 90% !important;      /* 留出左右边距 */
        /* margin: 10px auto !important; */
        margin: 25px auto 10px !important;
        /* 【手机端高度】手机屏幕宝贵，给稍微矮一点的固定空间 */
        /* height: 3.5rem !important;   */
        height: auto !important;
        min-height: 3.5rem !important;
        
        padding-left: 5px;          /* 手机端稍微紧凑一点 */
        padding-top: 2px;
        
        overflow: hidden !important; /* 防止溢出 */
        
        /* 文字通用设置 */
        text-align: left;
        word-break: break-all;
        white-space: normal !important;
        line-height: 1.3 !important;
        user-select: none;
        /* transition: opacity 0.2s ease, font-size 0.2s ease; */
    }

    
    /* --- 电脑/平板端样式（屏幕宽度大于 768px 时触发） --- */
    @media screen and (min-width: 768px) {
        /* 电脑端通常侧边栏是固定的，我们可以给一个更舒适的高度 */
        .sidebar .subtitle, .site-description, .profile-description {
            /* 【电脑端高度】空间充裕，给高一点，容纳更多文字 */
            height: 5rem !important; 
            min-height: 5rem !important;
            
            padding-left: 10px;      /* 电脑端呼吸感更强 */
            padding-top: 5px;
            
            /* 如果你依然想在电脑端限制最大宽度，可以在这里加 */
            /* max-width: 280px; */ 
        }
    }

    /* 我们要把毛玻璃效果加给所有使用了该变量的元素 */
    .article-list article,  /* 首页文章卡片 */
    .main-article,          /* 文章详情页 */
    .widget,                /* 右侧小挂件 (如果有) */
    .menu-modal,            /* 手机端弹出的菜单 */
    .search-modal           /* 搜索框 */
    {
        /* 强制使用我们上面定义的半透明变量 */
        background-color: var(--card-background) !important;
        
        /* 加上毛玻璃和边框 */
        backdrop-filter: blur(12px) !important;
        -webkit-backdrop-filter: blur(12px) !important;
        border: 1px solid rgba(255, 255, 255, 0.08) !important;
        border-radius: 16px !important;
        box-shadow: 0 4px 20px rgba(0,0,0,0.2) !important;
    }

    .article-content blockquote {
        /* 1. 强制背景半透明 (0.1 是透明度，越小越透) */
        background: rgba(0, 0, 0, 0.2) !important; 
        
        /* 2. 调整左侧竖线的颜色 (让它亮一点，配合深色背景) */
        border-left: 4px solid rgba(255, 255, 255, 0.4) !important;
        
        /* 3. 调整引用文字颜色 (防止太暗看不清) */
        color: rgba(255, 255, 255, 0.85) !important;
    }

    /* 专门针对分类页顶部的文字框 */
    .taxonomy-header {
        border-left: 5px solid #3b82f6; /* 加一条蓝色的左边框，增加“画风”区别 */
        background: rgba(255, 255, 255, 0.03) !important;
        padding: 2rem !important;
        margin-bottom: 2rem;
    }

    /* 让分类标题有 TypeIt 般的仪式感 */
    .taxonomy-title {
        font-family: 'Courier New', monospace;
        text-transform: uppercase;
        letter-spacing: 3px;
        color: var(--primary-color) !important;
    }

    /* 针对整个分类组件容器，增加内部留白 */
    /* 1. 针对分类组件的整体包裹层 */
    .widget.categories {
        /* 使用 box-sizing 确保 padding 不会撑破布局 */
        box-sizing: border-box !important;
        padding: 20px !important; 
    }

    /* 2. 关键：针对分类列表的内部容器 */
    /* Stack 主题在这里通常有一个 .widget-card 或 .section 容器 */
    .widget.categories .section {
        padding: 10px !important;
        margin: 0 !important;
    }

    /* 3. 针对分类按钮的“胶囊”化 */
    .widget.categories .menu li a {
        /* 强行拉开文字到框边的距离 */
        padding: 8px 16px !important; 
        margin-bottom: 10px !important;
        
        /* 确保它是块级显示，否则 padding 左右生效但上下会被挤压 */
        display: flex !important;
        justify-content: space-between;
        align-items: center;
        
        border-radius: 10px !important;
        background-color: rgba(255, 255, 255, 0.05) !important;
    }

    /* 4. 如果你想让文字缩进，不那么贴着框的左边 */
    .widget.categories .menu li a span:first-child {
        margin-left: 5px;
    }

    /* 1. 强制推开整个分类列表的左边距 */
    .widget.categories .section.categories {
        margin: 15px !important; /* 直接给内部容器加四周的外边距 */
    }

    @media (min-width: 1024px) {
        .main-container {
            gap: 20px !important; /* 强制拉近 */
        }
    }

</style>